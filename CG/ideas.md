# NeRF

- 步骤
  1. 让摄像机光线穿过场景生成一组采样的三维点
  2. 使用这些点及其相应的二维观察方向作为神经网络的输入，生成一组颜色和密度的输出
  3. 使用 classical volume rendering techniques 将这些颜色和密度累积到二维图像中

- position embedding 在实验中发现假如只是输入position, 输出会很模糊(over smooth), 因为好像神经网络只能学到低频的东西. 所以NeRF把输入做了embedding. 就是将3d的输入映射到一个高维的空间去

  - 将每个输入的坐标映射到一个更高的维空间中，这使得我们能够成功地优化神经辐射场，以表示高频场景内容。

- 用神经网络来拟合一个类似voxel的模型

- 体模型由3D grid中的每个格点(体素voxel)构成, 每个体素有颜色(RGB值)+透明度(α值)属性, NeRF的想法就是用一个全连接神经网络来<u>拟合出一个连续的体素表示</u>. 这个全连接网络输入想要的位置(x, y, z), 以及看的角度(φ, ψ), 输出该位置的颜色(r, g, b)和该点的透明度/density(α)

- 需要输入角度是因为要拟合这个场景的光照

- 体素的渲染就是沿着光线的方向积分得到最终的颜色值. 但是计算机不能积分, 只能用离散的方法逼近. 要想达到比较好的积分效果一般用重要性采样(用概率来理解积分, 用求期望的方法来算积分). 作者的话先用粗略的uniform采样, 得到被积函数的大致曲线, 然后在更精细的基于刚刚得出的大致曲线进行重要性采样. 这样最终得出rgb的值.

  ![img](ideas.assets/v2-2feabdae3730faa57d1521f9b11e9f5f_720w.jpg)

## Reference

- [图形学新高潮? NeRF 笔记 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/187541908)
- [非卷积5D中文翻译及学习笔记](https://blog.csdn.net/ftimes/article/details/105890744)

